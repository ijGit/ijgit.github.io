{"componentChunkName":"component---src-templates-post-jsx","path":"/pages/ssh-reverse-tunnerling","result":{"data":{"site":{"siteMetadata":{"title":"ij.Log"}},"markdownRemark":{"html":"<h1 id=\"ssh---리버스-터널링\" style=\"position:relative;\"><a href=\"#ssh---%EB%A6%AC%EB%B2%84%EC%8A%A4-%ED%84%B0%EB%84%90%EB%A7%81\" aria-label=\"ssh   리버스 터널링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH - 리버스 터널링</h1>\n<p>외부에서 접속이 불가능한 PC 로 원격 접속을 하려고 하면, reverse tunnerling 이 필요하다. </p>\n<p><code class=\"language-text\">ssh -R</code> 옵션을 통해 실행할 수 있는데, </p>\n<p>즉 reverse tunnerling을 통해 외부에서 접속이 불가능한 PC <code class=\"language-text\">A</code>와, 외부에 있는 PC    <code class=\"language-text\">B</code>가 있을 때, B가 A로 접속을 할 수 있다.</p>\n<p><code class=\"language-text\">A</code>: 외부에서 접속이 불가능한 PC</p>\n<p><code class=\"language-text\">B</code>: 외부에 있는 PC </p>\n<p>보통 SSH 연결은 A → B 로 이루어질 수 있으나, 이 반대로 접속을 해야 할 때가 있다. 이 경우 ssh -R 옵션을 통해 해결할 수 있다.  </p>\n<p>reverse tunnerling 절차는 다음과 같다.</p>\n<h4 id=\"1-a-에서-ssh-를-통해-b-로-reverse-tunnel-를-열어준다\" style=\"position:relative;\"><a href=\"#1-a-%EC%97%90%EC%84%9C-ssh-%EB%A5%BC-%ED%86%B5%ED%95%B4-b-%EB%A1%9C-reverse-tunnel-%EB%A5%BC-%EC%97%B4%EC%96%B4%EC%A4%80%EB%8B%A4\" aria-label=\"1 a 에서 ssh 를 통해 b 로 reverse tunnel 를 열어준다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. <code class=\"language-text\">A</code> 에서 ssh 를 통해 <code class=\"language-text\">B</code> 로 reverse tunnel 를 열어준다.</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">user_A$ <span class=\"token function\">ssh</span> -R <span class=\"token variable\">${B의 터널링 포트}</span>:localhost:<span class=\"token variable\">${A의 터널링 포트}</span> <span class=\"token variable\">${B의 계정}</span>@<span class=\"token variable\">${B의 도메인<span class=\"token operator\">,</span> 또는 ip}</span> -p<span class=\"token variable\">${B의 ssh 포트}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<ul>\n<li>B의 터널링 포트: B에 열릴 포트, </li>\n<li>A의 터널링 포트: B와 연결 될 A의 포트</li>\n</ul>\n<p>예를 들어 아래와 같이 명령어를 입력하면, <code class=\"language-text\">A</code> 에서 111.111.11.1 의 PC 에 port 22로 ssh 접속을 시도한다. </p>\n<p>접속이 성공한다면, 111.111.11.1 의 PC  에서 port 1234로 접속을 할 때, <code class=\"language-text\">A</code> 의 port 22로 접속을 할 수 있다. </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">user_A$ <span class=\"token function\">ssh</span> -R <span class=\"token number\">1234</span>:localhost:22 test@111.111.11.1 -p:22</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h4 id=\"2-위의-과정을-거치면-b에서-b-의-터널링-포트로-접속했을-때-a-의-터널링-포트로-연결된다\" style=\"position:relative;\"><a href=\"#2-%EC%9C%84%EC%9D%98-%EA%B3%BC%EC%A0%95%EC%9D%84-%EA%B1%B0%EC%B9%98%EB%A9%B4-b%EC%97%90%EC%84%9C-b-%EC%9D%98-%ED%84%B0%EB%84%90%EB%A7%81-%ED%8F%AC%ED%8A%B8%EB%A1%9C-%EC%A0%91%EC%86%8D%ED%96%88%EC%9D%84-%EB%95%8C-a-%EC%9D%98-%ED%84%B0%EB%84%90%EB%A7%81-%ED%8F%AC%ED%8A%B8%EB%A1%9C-%EC%97%B0%EA%B2%B0%EB%90%9C%EB%8B%A4\" aria-label=\"2 위의 과정을 거치면 b에서 b 의 터널링 포트로 접속했을 때 a 의 터널링 포트로 연결된다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 위의 과정을 거치면 <code class=\"language-text\">B</code>에서 <code class=\"language-text\">B</code> 의 터널링 포트로 접속했을 때, <code class=\"language-text\">A</code> 의 터널링 포트로 연결된다..</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">user_B$ ssh localhost -p ${B의 터널링 포트}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","excerpt":"SSH - 리버스 터널링 외부에서 접속이 불가능한 PC 로 원격 접속을 하려고 하면, reverse tunnerling 이 필요하다.   옵션을 통해 실행할 수 있는데,  즉 reverse tunnerling을 통해 외부에서 접속이 불가능한 PC…","frontmatter":{"date":"2021-11-16","title":"SSH: 리버스 터널링","tags":["network","dev env"],"keywords":null},"fields":{"slug":"/pages/ssh-reverse-tunnerling"},"tableOfContents":"<ul>\n<li><a href=\"/pages/ssh-reverse-tunnerling/#ssh---%EB%A6%AC%EB%B2%84%EC%8A%A4-%ED%84%B0%EB%84%90%EB%A7%81\">SSH - 리버스 터널링</a></li>\n</ul>"}},"pageContext":{"slug":"/pages/ssh-reverse-tunnerling"}},"staticQueryHashes":["2827402515","694178885"]}